import"./MarkdownEditor-1a13690f1612bf18.js";var t=document.getElementById("error"),i=document.getElementById("success"),d=document.getElementById("delete-post");if(d)d.addEventListener("click",async(n)=>{n.preventDefault();const e=await(await fetch(d.getAttribute("data-endpoint"),{method:"DELETE"})).json();if(e.success===!1)t.style.display="block",t.innerHTML=`<div class="mdnote-title">${e.message}</div>`;else i.style.display="block",i.innerHTML=`<div class="mdnote-title">${e.message}</div>`});var c=document.getElementById("pin-post");if(c)c.addEventListener("click",async(n)=>{n.preventDefault();const e=await(await fetch(c.getAttribute("data-endpoint"),{method:"POST"})).json();if(e.success===!1)t.style.display="block",t.innerHTML=`<div class="mdnote-title">${e.message}</div>`;else i.style.display="block",i.innerHTML=`<div class="mdnote-title">${e.message}</div>`});var s=document.getElementById("edit-post");if(s)s.addEventListener("submit",async(n)=>{n.preventDefault();const e=await(await fetch(s.getAttribute("data-endpoint"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:s.content.value,topic:s.topic.value||null})})).json();if(e.success===!1)t.style.display="block",t.innerHTML=`<div class="mdnote-title">${e.message}</div>`;else window.location.href="?"});var l=document.getElementById("edit-post-tags");if(l)l.addEventListener("submit",async(n)=>{n.preventDefault();const e=await(await fetch(l.getAttribute("data-endpoint"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tags:l.tags.value})})).json();if(e.success===!1)t.style.display="block",t.innerHTML=`<div class="mdnote-title">${e.message}</div>`;else window.location.href="?"});var a=document.getElementById("create-post"),r=document.getElementById("board-name").innerText,m=document.getElementById("post-id").innerText;if(a)a.addEventListener("submit",async(n)=>{n.preventDefault();const e=await(await fetch(`/api/board/${r}/posts`,{method:"POST",body:JSON.stringify({content:a.content.value,reply:m}),headers:{"Content-Type":"application/json"}})).json();if(e.success===!1)t.style.display="block",t.innerHTML=`<div class="mdnote-title">${e.message}</div>`;else a.reset(),window.location.reload()});var u={};export{u as default};
